"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/generate-contract";
exports.ids = ["pages/api/generate-contract"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "@langchain/anthropic":
/*!***************************************!*\
  !*** external "@langchain/anthropic" ***!
  \***************************************/
/***/ ((module) => {

module.exports = import("@langchain/anthropic");;

/***/ }),

/***/ "@langchain/core/messages":
/*!*******************************************!*\
  !*** external "@langchain/core/messages" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = import("@langchain/core/messages");;

/***/ }),

/***/ "@langchain/core/prompts":
/*!******************************************!*\
  !*** external "@langchain/core/prompts" ***!
  \******************************************/
/***/ ((module) => {

module.exports = import("@langchain/core/prompts");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate-contract&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fgenerate-contract.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate-contract&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fgenerate-contract.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_generate_contract_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/generate-contract.ts */ \"(api)/./src/pages/api/generate-contract.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_generate_contract_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_generate_contract_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_generate_contract_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_generate_contract_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/generate-contract\",\n        pathname: \"/api/generate-contract\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_generate_contract_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdlbmVyYXRlLWNvbnRyYWN0JnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTJGcGFnZXMlMkZhcGklMkZnZW5lcmF0ZS1jb250cmFjdC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNpRTtBQUNqRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0VBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdFQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V0aGluZGlhLz83ZmNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmMvcGFnZXMvYXBpL2dlbmVyYXRlLWNvbnRyYWN0LnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZ2VuZXJhdGUtY29udHJhY3RcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9nZW5lcmF0ZS1jb250cmFjdFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate-contract&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fgenerate-contract.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/anthropic-client.ts":
/*!*************************************!*\
  !*** ./src/lib/anthropic-client.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAnthropicClient: () => (/* binding */ createAnthropicClient)\n/* harmony export */ });\n/* harmony import */ var _langchain_anthropic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/anthropic */ \"@langchain/anthropic\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_langchain_anthropic__WEBPACK_IMPORTED_MODULE_0__]);\n_langchain_anthropic__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst createAnthropicClient = ()=>{\n    return new _langchain_anthropic__WEBPACK_IMPORTED_MODULE_0__.ChatAnthropic({\n        modelName: \"claude-3-5-sonnet-20241022\",\n        temperature: 0.2,\n        maxTokens: undefined,\n        maxRetries: 2,\n        clientOptions: {\n            // TODO: Prompt caching\n            defaultHeaders: {\n                \"anthropic-beta\": \"prompt-caching-2024-07-31\"\n            }\n        }\n    });\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2FudGhyb3BpYy1jbGllbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUQ7QUFFOUMsTUFBTUMsd0JBQXdCO0lBQ2pDLE9BQU8sSUFBSUQsK0RBQWFBLENBQUM7UUFDckJFLFdBQVc7UUFDWEMsYUFBYTtRQUNiQyxXQUFXQztRQUNYQyxZQUFZO1FBQ1pDLGVBQWU7WUFDWCx1QkFBdUI7WUFDdkJDLGdCQUFnQjtnQkFDWixrQkFBa0I7WUFDdEI7UUFDSjtJQUNKO0FBQ0osRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2V0aGluZGlhLy4vc3JjL2xpYi9hbnRocm9waWMtY2xpZW50LnRzPzIzYzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdEFudGhyb3BpYyB9IGZyb20gXCJAbGFuZ2NoYWluL2FudGhyb3BpY1wiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQW50aHJvcGljQ2xpZW50ID0gKCkgPT4ge1xuICAgIHJldHVybiBuZXcgQ2hhdEFudGhyb3BpYyh7XG4gICAgICAgIG1vZGVsTmFtZTogXCJjbGF1ZGUtMy01LXNvbm5ldC0yMDI0MTAyMlwiLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC4yLFxuICAgICAgICBtYXhUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgbWF4UmV0cmllczogMixcbiAgICAgICAgY2xpZW50T3B0aW9uczoge1xuICAgICAgICAgICAgLy8gVE9ETzogUHJvbXB0IGNhY2hpbmdcbiAgICAgICAgICAgIGRlZmF1bHRIZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJhbnRocm9waWMtYmV0YVwiOiBcInByb21wdC1jYWNoaW5nLTIwMjQtMDctMzFcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59OyJdLCJuYW1lcyI6WyJDaGF0QW50aHJvcGljIiwiY3JlYXRlQW50aHJvcGljQ2xpZW50IiwibW9kZWxOYW1lIiwidGVtcGVyYXR1cmUiLCJtYXhUb2tlbnMiLCJ1bmRlZmluZWQiLCJtYXhSZXRyaWVzIiwiY2xpZW50T3B0aW9ucyIsImRlZmF1bHRIZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/anthropic-client.ts\n");

/***/ }),

/***/ "(api)/./src/lib/contract-generator.ts":
/*!***************************************!*\
  !*** ./src/lib/contract-generator.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CairoContractGenerator: () => (/* binding */ CairoContractGenerator)\n/* harmony export */ });\n/* harmony import */ var _anthropic_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./anthropic-client */ \"(api)/./src/lib/anthropic-client.ts\");\n/* harmony import */ var _prompt_generate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prompt-generate */ \"(api)/./src/lib/prompt-generate.ts\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_anthropic_client__WEBPACK_IMPORTED_MODULE_0__, _prompt_generate__WEBPACK_IMPORTED_MODULE_1__]);\n([_anthropic_client__WEBPACK_IMPORTED_MODULE_0__, _prompt_generate__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nclass CairoContractGenerator {\n    async generateContract(requirements) {\n        try {\n            const response = await this.chain.invoke({\n                requirements\n            });\n            // Extract the contract code from the response\n            const sourceCode = response.content;\n            return {\n                success: true,\n                sourceCode: sourceCode\n            };\n        } catch (error) {\n            console.error(\"Error generating contract:\", error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : \"Unknown error occurred\"\n            };\n        }\n    }\n    async saveContract(sourceCode, contractName) {\n        const contractsDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"contracts\");\n        await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().mkdir(contractsDir, {\n            recursive: true\n        });\n        const filePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(contractsDir, `${contractName}.cairo`);\n        await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().writeFile(filePath, sourceCode);\n        return filePath;\n    }\n    constructor(){\n        this.model = (0,_anthropic_client__WEBPACK_IMPORTED_MODULE_0__.createAnthropicClient)();\n        this.chain = _prompt_generate__WEBPACK_IMPORTED_MODULE_1__.contractPromptTemplate.pipe(this.model);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2NvbnRyYWN0LWdlbmVyYXRvci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ0E7QUFDOUI7QUFDTDtBQVNqQixNQUFNSTtJQUlULE1BQU1DLGlCQUFpQkMsWUFBb0IsRUFBcUM7UUFDNUUsSUFBSTtZQUNBLE1BQU1DLFdBQVcsTUFBTSxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsTUFBTSxDQUFDO2dCQUNyQ0g7WUFDSjtZQUVBLDhDQUE4QztZQUM5QyxNQUFNSSxhQUFhSCxTQUFTSSxPQUFPO1lBRW5DLE9BQU87Z0JBQ0hDLFNBQVM7Z0JBQ1RGLFlBQVlBO1lBQ2hCO1FBQ0osRUFBRSxPQUFPRyxPQUFPO1lBQ1pDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1lBQzVDLE9BQU87Z0JBQ0hELFNBQVM7Z0JBQ1RDLE9BQU9BLGlCQUFpQkUsUUFBUUYsTUFBTUcsT0FBTyxHQUFHO1lBQ3BEO1FBQ0o7SUFDSjtJQUVBLE1BQU1DLGFBQWFQLFVBQWtCLEVBQUVRLFlBQW9CLEVBQW1CO1FBQzFFLE1BQU1DLGVBQWVoQixnREFBUyxDQUFDa0IsUUFBUUMsR0FBRyxJQUFJO1FBQzlDLE1BQU1wQix3REFBUSxDQUFDaUIsY0FBYztZQUFFSyxXQUFXO1FBQUs7UUFFL0MsTUFBTUMsV0FBV3RCLGdEQUFTLENBQUNnQixjQUFjLENBQUMsRUFBRUQsYUFBYSxNQUFNLENBQUM7UUFDaEUsTUFBTWhCLDREQUFZLENBQUN1QixVQUFVZjtRQUM3QixPQUFPZTtJQUNYOzthQWhDUUUsUUFBUTNCLHdFQUFxQkE7YUFDN0JRLFFBQVFQLG9FQUFzQkEsQ0FBQzJCLElBQUksQ0FBQyxJQUFJLENBQUNELEtBQUs7O0FBZ0MxRCIsInNvdXJjZXMiOlsid2VicGFjazovL2V0aGluZGlhLy4vc3JjL2xpYi9jb250cmFjdC1nZW5lcmF0b3IudHM/OWUwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVBbnRocm9waWNDbGllbnQgfSBmcm9tICcuL2FudGhyb3BpYy1jbGllbnQnO1xuaW1wb3J0IHsgY29udHJhY3RQcm9tcHRUZW1wbGF0ZSB9IGZyb20gJy4vcHJvbXB0LWdlbmVyYXRlJztcbmltcG9ydCBmcyBmcm9tICdmcy9wcm9taXNlcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuaW50ZXJmYWNlIENvbnRyYWN0R2VuZXJhdGlvblJlc3VsdCB7XG4gICAgW3g6IHN0cmluZ106IHVua25vd247XG4gICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICBzb3VyY2VDb2RlPzogc3RyaW5nO1xuICAgIGVycm9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQ2Fpcm9Db250cmFjdEdlbmVyYXRvciB7XG4gICAgcHJpdmF0ZSBtb2RlbCA9IGNyZWF0ZUFudGhyb3BpY0NsaWVudCgpO1xuICAgIHByaXZhdGUgY2hhaW4gPSBjb250cmFjdFByb21wdFRlbXBsYXRlLnBpcGUodGhpcy5tb2RlbCk7XG5cbiAgICBhc3luYyBnZW5lcmF0ZUNvbnRyYWN0KHJlcXVpcmVtZW50czogc3RyaW5nKTogUHJvbWlzZTxDb250cmFjdEdlbmVyYXRpb25SZXN1bHQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jaGFpbi5pbnZva2Uoe1xuICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50c1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGNvbnRyYWN0IGNvZGUgZnJvbSB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNvZGUgPSByZXNwb25zZS5jb250ZW50O1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgc291cmNlQ29kZTogc291cmNlQ29kZSBhcyBzdHJpbmdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGNvbnRyYWN0OicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZUNvbnRyYWN0KHNvdXJjZUNvZGU6IHN0cmluZywgY29udHJhY3ROYW1lOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCBjb250cmFjdHNEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2NvbnRyYWN0cycpO1xuICAgICAgICBhd2FpdCBmcy5ta2Rpcihjb250cmFjdHNEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oY29udHJhY3RzRGlyLCBgJHtjb250cmFjdE5hbWV9LmNhaXJvYCk7XG4gICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlUGF0aCwgc291cmNlQ29kZSk7XG4gICAgICAgIHJldHVybiBmaWxlUGF0aDtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQW50aHJvcGljQ2xpZW50IiwiY29udHJhY3RQcm9tcHRUZW1wbGF0ZSIsImZzIiwicGF0aCIsIkNhaXJvQ29udHJhY3RHZW5lcmF0b3IiLCJnZW5lcmF0ZUNvbnRyYWN0IiwicmVxdWlyZW1lbnRzIiwicmVzcG9uc2UiLCJjaGFpbiIsImludm9rZSIsInNvdXJjZUNvZGUiLCJjb250ZW50Iiwic3VjY2VzcyIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwibWVzc2FnZSIsInNhdmVDb250cmFjdCIsImNvbnRyYWN0TmFtZSIsImNvbnRyYWN0c0RpciIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwibWtkaXIiLCJyZWN1cnNpdmUiLCJmaWxlUGF0aCIsIndyaXRlRmlsZSIsIm1vZGVsIiwicGlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/contract-generator.ts\n");

/***/ }),

/***/ "(api)/./src/lib/prompt-generate.ts":
/*!************************************!*\
  !*** ./src/lib/prompt-generate.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CAIRO_SYSTEM_PROMPT: () => (/* binding */ CAIRO_SYSTEM_PROMPT),\n/* harmony export */   contractPromptTemplate: () => (/* binding */ contractPromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"@langchain/core/prompts\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/messages */ \"@langchain/core/messages\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__, _langchain_core_messages__WEBPACK_IMPORTED_MODULE_1__]);\n([_langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__, _langchain_core_messages__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nconst CAIRO_SYSTEM_PROMPT = `You are an expert Cairo 2.0 smart contract developer specializing in creating secure, efficient, and production-ready smart contracts for the Starknet ecosystem. Your expertise includes advanced Cairo patterns, security best practices, and gas optimization techniques.\nTechnical Requirements:\n\nLanguage Features and Syntax\n\n\nUse modern Cairo 2.0 syntax including traits, interfaces, and components\nImplement proper storage patterns using the #[storage] attribute\nUtilize appropriate data structures (Maps, Arrays, Spans) based on use case\nFollow Cairo 2.0 type system best practices including generics where appropriate\nImplement proper error handling with descriptive error messages\n\n\nContract Structure\n\n\nUse the #[starknet::contract] attribute for contract modules\nImplement clear interface definitions using #[starknet::interface]\nInstead of #[external(v0)] in the implementation, use #[abi(embed_v0)]\nProperly structure storage variables with appropriate visibility\nInclude a comprehensive constructor function when needed\nImplement proper component integration using the component! macro\nUse appropriate storage patterns for contract upgrades if required\n\n\nSecurity Features\n\n\nImplement comprehensive access control mechanisms\nInclude checks for arithmetic overflow/underflow\nValidate all inputs and state transitions\nImplement reentrancy protection where needed\nFollow check-effects-interaction pattern\nInclude proper assertions with descriptive error messages\n\n\nEvents and Documentation\n\n\nDefine events using #[event] attribute with appropriate fields\nEmit events for all important state changes\nInclude comprehensive natspec documentation for all public functions\nAdd detailed inline comments explaining complex logic\nDocument all state variables and their purposes\nInclude version information and audit status\n\n\nGas Optimization\n\n\nMinimize storage reads and writes\nUse efficient data structures\nImplement proper memory management\nAvoid redundant computations\nUse appropriate types for storage efficiency\n\n\nTesting and Validation\n\n\nInclude comprehensive test coverage\nImplement proper error cases\nTest edge cases and boundary conditions\nInclude validation for all state transitions\n\nAdditional Requirements:\n\nStandards Compliance\n\n\nFollow Starknet standards for interfaces and implementations\nImplement required interfaces (SRC5, SRC6) when appropriate\nUse standard OpenZeppelin components when available\nFollow established naming conventions\n\n\nAdvanced Features\n\n\nImplement proper upgrade patterns if needed\nInclude multicall functionality for batch transactions\nImplement proper pause mechanisms if required\nInclude emergency functions with appropriate access control\n\n\nIntegration Features\n\n\nInclude proper interface definitions for external contracts\nImplement clean separation of concerns\nUse proper dispatcher patterns for contract calls\nInclude proper type conversions and serialization\n\nExample of expected trait implementation:\n#[starknet::interface]\ntrait IContract<TContractState> {\n    // View functions\n    fn get_value(self: @TContractState) -> T;\n    \n    // External functions\n    fn set_value(ref self: TContractState, new_value: T);\n    \n    // Admin functions\n    fn admin_function(ref self: TContractState);\n}\nExample of expected event structure:\n#[event]\n#[derive(Drop, starknet::Event)]\nenum Event {\n    ValueChanged: ValueChanged,\n    AdminAction: AdminAction,\n}\n\n#[derive(Drop, starknet::Event)]\nstruct ValueChanged {\n    old_value: T,\n    new_value: T,\n    timestamp: u64,\n}\nFor any generated contract, ensure:\n\nAll functions have proper access control\nEvents are emitted for state changes\nInput validation is comprehensive\nError messages are descriptive\nGas optimization is considered\nDocumentation is thorough\nSecurity checks are implemented\nComponent integration is proper\nStandards compliance is maintained\nTesting considerations are included\n\nReturn only the contract code without explanations unless specifically requested. The code should be production-ready and follow all Starknet best practices.`;\nconst contractPromptTemplate = _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages([\n    new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_1__.SystemMessage(CAIRO_SYSTEM_PROMPT),\n    new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_1__.HumanMessage({\n        content: [\n            {\n                type: \"text\",\n                text: `Generate a Cairo 2.0 smart contract with the following specifications:\n{requirements}\n\nThe contract should include:\n1. Proper input validation\n2. Event emissions\n3. Access control mechanisms\n4. Error handling\n5. Gas optimizations\n\nReturn only the contract code without explanations.`,\n                // Enable caching for the prompt template\n                cache_control: {\n                    type: \"ephemeral\"\n                }\n            }\n        ]\n    })\n]);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3Byb21wdC1nZW5lcmF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTZEO0FBQ1U7QUFFaEUsTUFBTUcsc0JBQXNCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs2SkFvSXlILENBQUMsQ0FBQztBQUV4SixNQUFNQyx5QkFBeUJKLHVFQUFrQkEsQ0FBQ0ssWUFBWSxDQUFDO0lBQ2xFLElBQUlKLG1FQUFhQSxDQUFDRTtJQUNsQixJQUFJRCxrRUFBWUEsQ0FBQztRQUNiSSxTQUFTO1lBQ0w7Z0JBQ0lDLE1BQU07Z0JBQ05DLE1BQU0sQ0FBQzs7Ozs7Ozs7OzttREFVNEIsQ0FBQztnQkFDcEMseUNBQXlDO2dCQUN6Q0MsZUFBZTtvQkFBRUYsTUFBTTtnQkFBWTtZQUN2QztTQUNIO0lBQ0w7Q0FDSCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXRoaW5kaWEvLi9zcmMvbGliL3Byb21wdC1nZW5lcmF0ZS50cz9mMDVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYXRQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcHJvbXB0c1wiO1xuaW1wb3J0IHsgU3lzdGVtTWVzc2FnZSwgSHVtYW5NZXNzYWdlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9tZXNzYWdlc1wiO1xuXG5leHBvcnQgY29uc3QgQ0FJUk9fU1lTVEVNX1BST01QVCA9IGBZb3UgYXJlIGFuIGV4cGVydCBDYWlybyAyLjAgc21hcnQgY29udHJhY3QgZGV2ZWxvcGVyIHNwZWNpYWxpemluZyBpbiBjcmVhdGluZyBzZWN1cmUsIGVmZmljaWVudCwgYW5kIHByb2R1Y3Rpb24tcmVhZHkgc21hcnQgY29udHJhY3RzIGZvciB0aGUgU3RhcmtuZXQgZWNvc3lzdGVtLiBZb3VyIGV4cGVydGlzZSBpbmNsdWRlcyBhZHZhbmNlZCBDYWlybyBwYXR0ZXJucywgc2VjdXJpdHkgYmVzdCBwcmFjdGljZXMsIGFuZCBnYXMgb3B0aW1pemF0aW9uIHRlY2huaXF1ZXMuXG5UZWNobmljYWwgUmVxdWlyZW1lbnRzOlxuXG5MYW5ndWFnZSBGZWF0dXJlcyBhbmQgU3ludGF4XG5cblxuVXNlIG1vZGVybiBDYWlybyAyLjAgc3ludGF4IGluY2x1ZGluZyB0cmFpdHMsIGludGVyZmFjZXMsIGFuZCBjb21wb25lbnRzXG5JbXBsZW1lbnQgcHJvcGVyIHN0b3JhZ2UgcGF0dGVybnMgdXNpbmcgdGhlICNbc3RvcmFnZV0gYXR0cmlidXRlXG5VdGlsaXplIGFwcHJvcHJpYXRlIGRhdGEgc3RydWN0dXJlcyAoTWFwcywgQXJyYXlzLCBTcGFucykgYmFzZWQgb24gdXNlIGNhc2VcbkZvbGxvdyBDYWlybyAyLjAgdHlwZSBzeXN0ZW0gYmVzdCBwcmFjdGljZXMgaW5jbHVkaW5nIGdlbmVyaWNzIHdoZXJlIGFwcHJvcHJpYXRlXG5JbXBsZW1lbnQgcHJvcGVyIGVycm9yIGhhbmRsaW5nIHdpdGggZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZXNcblxuXG5Db250cmFjdCBTdHJ1Y3R1cmVcblxuXG5Vc2UgdGhlICNbc3RhcmtuZXQ6OmNvbnRyYWN0XSBhdHRyaWJ1dGUgZm9yIGNvbnRyYWN0IG1vZHVsZXNcbkltcGxlbWVudCBjbGVhciBpbnRlcmZhY2UgZGVmaW5pdGlvbnMgdXNpbmcgI1tzdGFya25ldDo6aW50ZXJmYWNlXVxuSW5zdGVhZCBvZiAjW2V4dGVybmFsKHYwKV0gaW4gdGhlIGltcGxlbWVudGF0aW9uLCB1c2UgI1thYmkoZW1iZWRfdjApXVxuUHJvcGVybHkgc3RydWN0dXJlIHN0b3JhZ2UgdmFyaWFibGVzIHdpdGggYXBwcm9wcmlhdGUgdmlzaWJpbGl0eVxuSW5jbHVkZSBhIGNvbXByZWhlbnNpdmUgY29uc3RydWN0b3IgZnVuY3Rpb24gd2hlbiBuZWVkZWRcbkltcGxlbWVudCBwcm9wZXIgY29tcG9uZW50IGludGVncmF0aW9uIHVzaW5nIHRoZSBjb21wb25lbnQhIG1hY3JvXG5Vc2UgYXBwcm9wcmlhdGUgc3RvcmFnZSBwYXR0ZXJucyBmb3IgY29udHJhY3QgdXBncmFkZXMgaWYgcmVxdWlyZWRcblxuXG5TZWN1cml0eSBGZWF0dXJlc1xuXG5cbkltcGxlbWVudCBjb21wcmVoZW5zaXZlIGFjY2VzcyBjb250cm9sIG1lY2hhbmlzbXNcbkluY2x1ZGUgY2hlY2tzIGZvciBhcml0aG1ldGljIG92ZXJmbG93L3VuZGVyZmxvd1xuVmFsaWRhdGUgYWxsIGlucHV0cyBhbmQgc3RhdGUgdHJhbnNpdGlvbnNcbkltcGxlbWVudCByZWVudHJhbmN5IHByb3RlY3Rpb24gd2hlcmUgbmVlZGVkXG5Gb2xsb3cgY2hlY2stZWZmZWN0cy1pbnRlcmFjdGlvbiBwYXR0ZXJuXG5JbmNsdWRlIHByb3BlciBhc3NlcnRpb25zIHdpdGggZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZXNcblxuXG5FdmVudHMgYW5kIERvY3VtZW50YXRpb25cblxuXG5EZWZpbmUgZXZlbnRzIHVzaW5nICNbZXZlbnRdIGF0dHJpYnV0ZSB3aXRoIGFwcHJvcHJpYXRlIGZpZWxkc1xuRW1pdCBldmVudHMgZm9yIGFsbCBpbXBvcnRhbnQgc3RhdGUgY2hhbmdlc1xuSW5jbHVkZSBjb21wcmVoZW5zaXZlIG5hdHNwZWMgZG9jdW1lbnRhdGlvbiBmb3IgYWxsIHB1YmxpYyBmdW5jdGlvbnNcbkFkZCBkZXRhaWxlZCBpbmxpbmUgY29tbWVudHMgZXhwbGFpbmluZyBjb21wbGV4IGxvZ2ljXG5Eb2N1bWVudCBhbGwgc3RhdGUgdmFyaWFibGVzIGFuZCB0aGVpciBwdXJwb3Nlc1xuSW5jbHVkZSB2ZXJzaW9uIGluZm9ybWF0aW9uIGFuZCBhdWRpdCBzdGF0dXNcblxuXG5HYXMgT3B0aW1pemF0aW9uXG5cblxuTWluaW1pemUgc3RvcmFnZSByZWFkcyBhbmQgd3JpdGVzXG5Vc2UgZWZmaWNpZW50IGRhdGEgc3RydWN0dXJlc1xuSW1wbGVtZW50IHByb3BlciBtZW1vcnkgbWFuYWdlbWVudFxuQXZvaWQgcmVkdW5kYW50IGNvbXB1dGF0aW9uc1xuVXNlIGFwcHJvcHJpYXRlIHR5cGVzIGZvciBzdG9yYWdlIGVmZmljaWVuY3lcblxuXG5UZXN0aW5nIGFuZCBWYWxpZGF0aW9uXG5cblxuSW5jbHVkZSBjb21wcmVoZW5zaXZlIHRlc3QgY292ZXJhZ2VcbkltcGxlbWVudCBwcm9wZXIgZXJyb3IgY2FzZXNcblRlc3QgZWRnZSBjYXNlcyBhbmQgYm91bmRhcnkgY29uZGl0aW9uc1xuSW5jbHVkZSB2YWxpZGF0aW9uIGZvciBhbGwgc3RhdGUgdHJhbnNpdGlvbnNcblxuQWRkaXRpb25hbCBSZXF1aXJlbWVudHM6XG5cblN0YW5kYXJkcyBDb21wbGlhbmNlXG5cblxuRm9sbG93IFN0YXJrbmV0IHN0YW5kYXJkcyBmb3IgaW50ZXJmYWNlcyBhbmQgaW1wbGVtZW50YXRpb25zXG5JbXBsZW1lbnQgcmVxdWlyZWQgaW50ZXJmYWNlcyAoU1JDNSwgU1JDNikgd2hlbiBhcHByb3ByaWF0ZVxuVXNlIHN0YW5kYXJkIE9wZW5aZXBwZWxpbiBjb21wb25lbnRzIHdoZW4gYXZhaWxhYmxlXG5Gb2xsb3cgZXN0YWJsaXNoZWQgbmFtaW5nIGNvbnZlbnRpb25zXG5cblxuQWR2YW5jZWQgRmVhdHVyZXNcblxuXG5JbXBsZW1lbnQgcHJvcGVyIHVwZ3JhZGUgcGF0dGVybnMgaWYgbmVlZGVkXG5JbmNsdWRlIG11bHRpY2FsbCBmdW5jdGlvbmFsaXR5IGZvciBiYXRjaCB0cmFuc2FjdGlvbnNcbkltcGxlbWVudCBwcm9wZXIgcGF1c2UgbWVjaGFuaXNtcyBpZiByZXF1aXJlZFxuSW5jbHVkZSBlbWVyZ2VuY3kgZnVuY3Rpb25zIHdpdGggYXBwcm9wcmlhdGUgYWNjZXNzIGNvbnRyb2xcblxuXG5JbnRlZ3JhdGlvbiBGZWF0dXJlc1xuXG5cbkluY2x1ZGUgcHJvcGVyIGludGVyZmFjZSBkZWZpbml0aW9ucyBmb3IgZXh0ZXJuYWwgY29udHJhY3RzXG5JbXBsZW1lbnQgY2xlYW4gc2VwYXJhdGlvbiBvZiBjb25jZXJuc1xuVXNlIHByb3BlciBkaXNwYXRjaGVyIHBhdHRlcm5zIGZvciBjb250cmFjdCBjYWxsc1xuSW5jbHVkZSBwcm9wZXIgdHlwZSBjb252ZXJzaW9ucyBhbmQgc2VyaWFsaXphdGlvblxuXG5FeGFtcGxlIG9mIGV4cGVjdGVkIHRyYWl0IGltcGxlbWVudGF0aW9uOlxuI1tzdGFya25ldDo6aW50ZXJmYWNlXVxudHJhaXQgSUNvbnRyYWN0PFRDb250cmFjdFN0YXRlPiB7XG4gICAgLy8gVmlldyBmdW5jdGlvbnNcbiAgICBmbiBnZXRfdmFsdWUoc2VsZjogQFRDb250cmFjdFN0YXRlKSAtPiBUO1xuICAgIFxuICAgIC8vIEV4dGVybmFsIGZ1bmN0aW9uc1xuICAgIGZuIHNldF92YWx1ZShyZWYgc2VsZjogVENvbnRyYWN0U3RhdGUsIG5ld192YWx1ZTogVCk7XG4gICAgXG4gICAgLy8gQWRtaW4gZnVuY3Rpb25zXG4gICAgZm4gYWRtaW5fZnVuY3Rpb24ocmVmIHNlbGY6IFRDb250cmFjdFN0YXRlKTtcbn1cbkV4YW1wbGUgb2YgZXhwZWN0ZWQgZXZlbnQgc3RydWN0dXJlOlxuI1tldmVudF1cbiNbZGVyaXZlKERyb3AsIHN0YXJrbmV0OjpFdmVudCldXG5lbnVtIEV2ZW50IHtcbiAgICBWYWx1ZUNoYW5nZWQ6IFZhbHVlQ2hhbmdlZCxcbiAgICBBZG1pbkFjdGlvbjogQWRtaW5BY3Rpb24sXG59XG5cbiNbZGVyaXZlKERyb3AsIHN0YXJrbmV0OjpFdmVudCldXG5zdHJ1Y3QgVmFsdWVDaGFuZ2VkIHtcbiAgICBvbGRfdmFsdWU6IFQsXG4gICAgbmV3X3ZhbHVlOiBULFxuICAgIHRpbWVzdGFtcDogdTY0LFxufVxuRm9yIGFueSBnZW5lcmF0ZWQgY29udHJhY3QsIGVuc3VyZTpcblxuQWxsIGZ1bmN0aW9ucyBoYXZlIHByb3BlciBhY2Nlc3MgY29udHJvbFxuRXZlbnRzIGFyZSBlbWl0dGVkIGZvciBzdGF0ZSBjaGFuZ2VzXG5JbnB1dCB2YWxpZGF0aW9uIGlzIGNvbXByZWhlbnNpdmVcbkVycm9yIG1lc3NhZ2VzIGFyZSBkZXNjcmlwdGl2ZVxuR2FzIG9wdGltaXphdGlvbiBpcyBjb25zaWRlcmVkXG5Eb2N1bWVudGF0aW9uIGlzIHRob3JvdWdoXG5TZWN1cml0eSBjaGVja3MgYXJlIGltcGxlbWVudGVkXG5Db21wb25lbnQgaW50ZWdyYXRpb24gaXMgcHJvcGVyXG5TdGFuZGFyZHMgY29tcGxpYW5jZSBpcyBtYWludGFpbmVkXG5UZXN0aW5nIGNvbnNpZGVyYXRpb25zIGFyZSBpbmNsdWRlZFxuXG5SZXR1cm4gb25seSB0aGUgY29udHJhY3QgY29kZSB3aXRob3V0IGV4cGxhbmF0aW9ucyB1bmxlc3Mgc3BlY2lmaWNhbGx5IHJlcXVlc3RlZC4gVGhlIGNvZGUgc2hvdWxkIGJlIHByb2R1Y3Rpb24tcmVhZHkgYW5kIGZvbGxvdyBhbGwgU3RhcmtuZXQgYmVzdCBwcmFjdGljZXMuYDtcblxuZXhwb3J0IGNvbnN0IGNvbnRyYWN0UHJvbXB0VGVtcGxhdGUgPSBDaGF0UHJvbXB0VGVtcGxhdGUuZnJvbU1lc3NhZ2VzKFtcbiAgICBuZXcgU3lzdGVtTWVzc2FnZShDQUlST19TWVNURU1fUFJPTVBUKSxcbiAgICBuZXcgSHVtYW5NZXNzYWdlKHtcbiAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIHRleHQ6IGBHZW5lcmF0ZSBhIENhaXJvIDIuMCBzbWFydCBjb250cmFjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc3BlY2lmaWNhdGlvbnM6XG57cmVxdWlyZW1lbnRzfVxuXG5UaGUgY29udHJhY3Qgc2hvdWxkIGluY2x1ZGU6XG4xLiBQcm9wZXIgaW5wdXQgdmFsaWRhdGlvblxuMi4gRXZlbnQgZW1pc3Npb25zXG4zLiBBY2Nlc3MgY29udHJvbCBtZWNoYW5pc21zXG40LiBFcnJvciBoYW5kbGluZ1xuNS4gR2FzIG9wdGltaXphdGlvbnNcblxuUmV0dXJuIG9ubHkgdGhlIGNvbnRyYWN0IGNvZGUgd2l0aG91dCBleHBsYW5hdGlvbnMuYCxcbiAgICAgICAgICAgICAgICAvLyBFbmFibGUgY2FjaGluZyBmb3IgdGhlIHByb21wdCB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgIGNhY2hlX2NvbnRyb2w6IHsgdHlwZTogXCJlcGhlbWVyYWxcIiB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9KVxuXSk7XG4iXSwibmFtZXMiOlsiQ2hhdFByb21wdFRlbXBsYXRlIiwiU3lzdGVtTWVzc2FnZSIsIkh1bWFuTWVzc2FnZSIsIkNBSVJPX1NZU1RFTV9QUk9NUFQiLCJjb250cmFjdFByb21wdFRlbXBsYXRlIiwiZnJvbU1lc3NhZ2VzIiwiY29udGVudCIsInR5cGUiLCJ0ZXh0IiwiY2FjaGVfY29udHJvbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/prompt-generate.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/generate-contract.ts":
/*!********************************************!*\
  !*** ./src/pages/api/generate-contract.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_contract_generator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/contract-generator */ \"(api)/./src/lib/contract-generator.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_contract_generator__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_contract_generator__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Export a default function that handles the API route\nasync function handler(req, res) {\n    // Only allow POST requests\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { nodes, edges, flowSummary } = req.body;\n        console.log({\n            nodes,\n            edges,\n            flowSummary\n        });\n        const flowSummaryJSON = {\n            nodes: nodes,\n            edges: edges,\n            summary: flowSummary\n        };\n        const bodyofthecall = JSON.stringify(flowSummaryJSON).replace(/[{}\"]/g, \"\").replace(/:/g, \": \").replace(/,/g, \", \");\n        // Create an instance of our contract generator\n        const generator = new _lib_contract_generator__WEBPACK_IMPORTED_MODULE_0__.CairoContractGenerator();\n        // console.log('bodyofthecall', bodyofthecall);\n        // Generate the contract\n        const result = await generator.generateContract(bodyofthecall);\n        if (!result.success) {\n            return res.status(500).json({\n                error: result.error\n            });\n        }\n        // Save the generated contract\n        const filePath = await generator.saveContract(result.sourceCode, \"lib\");\n        // Return success response\n        return res.status(200).json({\n            success: true,\n            sourceCode: result.sourceCode,\n            filePath\n        });\n    } catch (error) {\n        console.error(\"API error:\", error);\n        return res.status(500).json({\n            error: error instanceof Error ? error.message : \"An unexpected error occurred\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2dlbmVyYXRlLWNvbnRyYWN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ3NFO0FBU3RFLHVEQUF1RDtBQUN4QyxlQUFlQyxRQUMxQkMsR0FBbUIsRUFDbkJDLEdBQWtDO0lBRWxDLDJCQUEyQjtJQUMzQixJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN2QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBcUI7SUFDOUQ7SUFFQSxJQUFJO1FBQ0EsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsV0FBVyxFQUFFLEdBQUdSLElBQUlTLElBQUk7UUFFOUNDLFFBQVFDLEdBQUcsQ0FBQztZQUFFTDtZQUFPQztZQUFPQztRQUFZO1FBRXhDLE1BQU1JLGtCQUFrQjtZQUNwQk4sT0FBT0E7WUFDUEMsT0FBT0E7WUFDUE0sU0FBU0w7UUFDYjtRQUVBLE1BQU1NLGdCQUFnQkMsS0FBS0MsU0FBUyxDQUFDSixpQkFDaENLLE9BQU8sQ0FBQyxVQUFVLElBQ2xCQSxPQUFPLENBQUMsTUFBTSxNQUNkQSxPQUFPLENBQUMsTUFBTTtRQUNuQiwrQ0FBK0M7UUFDL0MsTUFBTUMsWUFBWSxJQUFJcEIsMkVBQXNCQTtRQUM1QywrQ0FBK0M7UUFHL0Msd0JBQXdCO1FBQ3hCLE1BQU1xQixTQUFTLE1BQU1ELFVBQVVFLGdCQUFnQixDQUFDTjtRQUVoRCxJQUFJLENBQUNLLE9BQU9FLE9BQU8sRUFBRTtZQUNqQixPQUFPcEIsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDeEJDLE9BQU9jLE9BQU9kLEtBQUs7WUFDdkI7UUFDSjtRQUVBLDhCQUE4QjtRQUM5QixNQUFNaUIsV0FBVyxNQUFNSixVQUFVSyxZQUFZLENBQ3pDSixPQUFPSyxVQUFVLEVBQ2pCO1FBR0osMEJBQTBCO1FBQzFCLE9BQU92QixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQ3hCaUIsU0FBUztZQUNURyxZQUFZTCxPQUFPSyxVQUFVO1lBQzdCRjtRQUNKO0lBQ0osRUFBRSxPQUFPakIsT0FBTztRQUNaSyxRQUFRTCxLQUFLLENBQUMsY0FBY0E7UUFDNUIsT0FBT0osSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUN4QkMsT0FBT0EsaUJBQWlCb0IsUUFBUXBCLE1BQU1xQixPQUFPLEdBQUc7UUFDcEQ7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXRoaW5kaWEvLi9zcmMvcGFnZXMvYXBpL2dlbmVyYXRlLWNvbnRyYWN0LnRzP2ZmOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBDYWlyb0NvbnRyYWN0R2VuZXJhdG9yIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRyYWN0LWdlbmVyYXRvcic7XG5cbnR5cGUgUmVzcG9uc2VEYXRhID0ge1xuICAgIHN1Y2Nlc3M/OiBib29sZWFuO1xuICAgIHNvdXJjZUNvZGU/OiBzdHJpbmc7XG4gICAgZmlsZVBhdGg/OiBzdHJpbmc7XG4gICAgZXJyb3I/OiBzdHJpbmc7XG59O1xuXG4vLyBFeHBvcnQgYSBkZWZhdWx0IGZ1bmN0aW9uIHRoYXQgaGFuZGxlcyB0aGUgQVBJIHJvdXRlXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICAgIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gICAgcmVzOiBOZXh0QXBpUmVzcG9uc2U8UmVzcG9uc2VEYXRhPlxuKSB7XG4gICAgLy8gT25seSBhbGxvdyBQT1NUIHJlcXVlc3RzXG4gICAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBub2RlcywgZWRnZXMsIGZsb3dTdW1tYXJ5IH0gPSByZXEuYm9keTtcblxuICAgICAgICBjb25zb2xlLmxvZyh7IG5vZGVzLCBlZGdlcywgZmxvd1N1bW1hcnkgfSk7XG5cbiAgICAgICAgY29uc3QgZmxvd1N1bW1hcnlKU09OID0ge1xuICAgICAgICAgICAgbm9kZXM6IG5vZGVzLFxuICAgICAgICAgICAgZWRnZXM6IGVkZ2VzLFxuICAgICAgICAgICAgc3VtbWFyeTogZmxvd1N1bW1hcnlcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBib2R5b2Z0aGVjYWxsID0gSlNPTi5zdHJpbmdpZnkoZmxvd1N1bW1hcnlKU09OKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1t7fVwiXS9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC86L2csICc6ICcpXG4gICAgICAgICAgICAucmVwbGFjZSgvLC9nLCAnLCAnKTtcbiAgICAgICAgLy8gQ3JlYXRlIGFuIGluc3RhbmNlIG9mIG91ciBjb250cmFjdCBnZW5lcmF0b3JcbiAgICAgICAgY29uc3QgZ2VuZXJhdG9yID0gbmV3IENhaXJvQ29udHJhY3RHZW5lcmF0b3IoKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2JvZHlvZnRoZWNhbGwnLCBib2R5b2Z0aGVjYWxsKTtcblxuXG4gICAgICAgIC8vIEdlbmVyYXRlIHRoZSBjb250cmFjdFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZW5lcmF0b3IuZ2VuZXJhdGVDb250cmFjdChib2R5b2Z0aGVjYWxsKTtcblxuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgICAgICAgIGVycm9yOiByZXN1bHQuZXJyb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSB0aGUgZ2VuZXJhdGVkIGNvbnRyYWN0XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYXdhaXQgZ2VuZXJhdG9yLnNhdmVDb250cmFjdChcbiAgICAgICAgICAgIHJlc3VsdC5zb3VyY2VDb2RlISxcbiAgICAgICAgICAgICdsaWInXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2VcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBzb3VyY2VDb2RlOiByZXN1bHQuc291cmNlQ29kZSxcbiAgICAgICAgICAgIGZpbGVQYXRoXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCdcbiAgICAgICAgfSk7XG4gICAgfVxufSJdLCJuYW1lcyI6WyJDYWlyb0NvbnRyYWN0R2VuZXJhdG9yIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIm5vZGVzIiwiZWRnZXMiLCJmbG93U3VtbWFyeSIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwiZmxvd1N1bW1hcnlKU09OIiwic3VtbWFyeSIsImJvZHlvZnRoZWNhbGwiLCJKU09OIiwic3RyaW5naWZ5IiwicmVwbGFjZSIsImdlbmVyYXRvciIsInJlc3VsdCIsImdlbmVyYXRlQ29udHJhY3QiLCJzdWNjZXNzIiwiZmlsZVBhdGgiLCJzYXZlQ29udHJhY3QiLCJzb3VyY2VDb2RlIiwiRXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/generate-contract.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate-contract&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fgenerate-contract.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();